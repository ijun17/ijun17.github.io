---
layout: post
title: "[3학년2학기]AIot시계열분석"
order: 20
---

# 판다스

`시리즈`
* 1차원 배열
* 인덱스로 접근

`데이터프레임`
* 2차원 배열
* 행접근 : df.loc[행 이름] 또는 df.행이름
* 열접근 : df[열 이름] 또는 df.열이름
* 셀접근 : df\[열]





# MQTT 구현

## MQTT 개요

Message Queue Telemetry Transport

IoT기기용 M2M 프로토콜

TCP/IP 방식으로 작동

메모리 용향이 적어도 가능하며 통신 부하가 적다

허브와 스포크 방식 토폴로지을 사용
중심인 허브에는 브로커가 있고, 각각의 스포크에는 센서나 디바이스가 온다

MQTT에서 네트워크에 접속하는 디바이스를 클라이언트, 중심에서 데이터ㄹ의 송수신을 관장하는ㄴ 서버는 MQTT 브로커라고 한다. 

토픽(데이터 이름)과 페이로드(데이터 내용) < 이거를 브로커에 송신

ESP8266에서 와이파이는 아래 두가지 모드를 지원

`AP 모드` : ESP8266 중심으로 다른기기 네트워크에 접속하는 것
`STA 모드` : ESP8266이 이미 구성되어 있는 네트워크에 접속

* `발행` : 클라이언트와 브로커 간의 데이터 송신
* `구독` : 특정 토픽의 페이로드 수신을 MQTT에 알려주는 행위

* `서비스 품질` : 0,1,2(몇번할지 재전송 할지, 높으면 좋은거)

* `최종 값 보관` : 데이터 발행 시 브로커에 보관 여부를 결정 
* `유언` : 끊어지면 자동으로 발송

## Mosquitto

대표적인 MQTT 브로커