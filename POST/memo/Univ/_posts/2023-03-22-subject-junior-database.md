---
layout: post
title: "[3학년1학기]데이터베이스(작성중)"
order: 30
---
# 실습
XAMPP(잼프) 프로그램은 PHP, Apache, MySQL 프로그램을 패키지 형태로 설치.

* Apache : 클라이언트 측에서 웹 서비스를 요청하면 HTML 파일, 이미지, 동영상 등의 데이터를 HTTP 규약에 따라 클라이언트의 로컬 컴퓨터에 전송. 
* PHP : PHP언어로 작성된 프로그램을 PHP 해석기가 HTML로 변환하여 Apache가 클라이언트로 보낸다. 클라이언트 측 사용자는 해석된 HTML 파일(웹 페이지)을 웹 브라우저로 볼 수 있음.
* MySQL : DBMS(DataBase Management System, 데이터베이스 관리 시스템)의 하나이다. MySQL 데이터베이스는 웹용 데이터를 저장, 검색, 수정, 삭제하는 역할 수행.

다음은 테이블을 생성하고 데이터를 조작하는 SQL언어이다.
```sql
--테이블 생성
create table member ( 
    num int not null auto_increment, 
    id char(20) not null, 
    name char(20) not null, 
    gender char(1), 
    post_num char(8), 
    address char(80), 
    tel char(20), 
    age int, 
    primary key(num) 
);
--테이블에 데이터 삽입(num은 primary key이므로 삽입안해도됨)
insert into member (id, name, gender, post_num, address, tel, age) values ('yjhwang', '황영주', 'M', '100-011', '서울시 중구 충무로1가', '234-8879', 35); 
--테이블에 저장된 데이터 검색
select * from member;
select name,tel from member;
--해당 조건의 데이터 검색
select id, name, address, gender from member where gender='W';
select name, tel, gender, age from member where age>=50 and gender='M';
select name, tel, age, gender from member where ( (age>=30 and age<=39) or (age>=50 and age<=59) ) and gender='M';
--성이 황씨인 사람 검색 / 주소에 서울시가 들어가는 사람 검색
select * from member where name like '황%';
select * from member where address like '%서울시%';
--나이로 오름차순/내림차순 정렬
select * from member where address like '서울%' order by age;
select * from member where address like '서울%' order by age desc;
--테이블 데이터 수정
update member set tel='123-4567' where name='고재진'; 
--테이블에 데이터 삭제
delete from member where name='김수련'; 
--테이블 삭제(delete from table;)과는 다르게 구조까지 완전삭제 한다는것
drop table member;
```

# 1.데이터베이스 기본 개념

### 1.1 [데이터베이스의 필요성]

* **데이터** : 현실 세계에서 단순이 관측하거나 수집한 사실(fact)이나 값(value) 
* **정보** : 데이터를 의사결정에 유용하게 활용할 수 있도록 가공한 결과물
* **정보 처리** : 데이터에서 정보를 추출하는 과정 또는 방법
* **정보 시스템** : 조직에 필요한 데이터를 저장했다가 필요할때 유용한 정보를 만들어주는 수단

### 1.2 [데이터베이스의 정의와 특징]

데이터베이스란 특정 조직의 여러 사용자가 `공유`하여 사용할 수 있도록 `통합`해서 `저장`한 `운영` 데이터의 집합이다.
* **공유데이터(shared data)** : 여러사용자가 함께 소유하고 이용
* **통합데이터(integrated data)** : 중복을 최소화하고 통제가능한 중복만 허용하는 데이터
* **저장데이터(stored data)** : 컴퓨터가 접근 가능한 매체 저장해야함
* **운영데이터(operational data)** : 조직을 운영하기위해 지속적으로 유지해야됨

데이터 베이스의 특징으로 4가지가 있다. 
* **실시간 접근(real-time accessibility)** : 대게 몇초 안에 데이터를 제공해야함
* **계속 변화(continue evolution)** : 데이터가 계속 삽입, 삭제, 수정됨
* **동시 공유(concurrent sharing)** : 서로 다른 데이터 뿐만 아니라 같은 데이터도 동시 사용 가능
* **내용으로 참조(content reference)** : 내용, 즉 값으로 참조 가능 ex)재고량이 100이상인 제품 이름

### 1.3 [데이터 과학 시대의 데이터]

데이터는 **형태**에 따라 다음과 같이 분류된다.
* `정형 데이터(structured data)` : 미리 정해진 구조에 저장된 데이터 ex)엑셀, 관계 DB
* `반정형 데이터(semi-structured data)` : 내용안에 구조를 설명 ex)HTML, XML, JSON
  - 내용과 함께 설명된 데이터 구조를 **schema 또는 metadata**라고 한다. 
* `비정형 데이터(unstructured data)` : 정해진 구조가 없음 ex)텍스트, 영상, 이미지, 음성

데이터는 **특성**에 따라 다음과 같이 분류된다.
* `범주형 데이터(categorical data)` : 종류를 나타내는 데이터 / 정성적 데이터(qualitative data)
  - **명목형 데이터(nominal data)** : 서열이 없음 ex)혈액형, 학과명, 거주 지역
  - **순서형 데이터(ordinal data)** : 서열이 있음, 산술연산 불가 eX)학년
* `수치형 데이터(numerical data)` : 산술연산 가능한 데이터 / 정량적 데이터(quantitative data)
  - **이산형 데이터(discrete data)** : 정수형 ex)고객 수, 판매량
  - **연속형 데이터(continuous data)** : 실수형 ex)키, 몸무게

# 2.데이터베이스 관리 시스템

### 2.1 [데이터베이스 관리 시스템의 등장 배경]

과거에는 `파일 시스템`을 이용해 데이터를 관리했다. 파일 시스템은 운영체제와 함께 설치되며, 응용프로그램 별로 필요한 데이터를 별도의 파일로 보관한다. 파일 시스템은 별도의 구매 비용이 들지 않는다는 장점이 있지만, 다음과 같은 단점이 있다.
1. 같은 내용의 데이터가 여러 파일에 중복 저장된다. 
2. 응용 프로그램이 데이터 파일에 종속적이다. 
3. 데이터 파일에 대한 동시 공유, 보안, 회복 기능이 부족하다. 
4. 응용 프로그램을 개발하기 쉽지 않다. 

### 2.2 [데이터베이스 관리 시스템의 정의]

`데이터베이스관리시스템(DBMS)`이란 사용자의 명령을 받아 DB를 조작하는 소프트웨어이다. DBMS의 주기능은 크게 세가지로 나눌 수 있는데, 정의기능(DB의 구조를 정의하거나 수정), 조작기능(데이터를 삽입,삭제,수정), 제어기능(데이터를 정확하고 안전하게 유지)이다.

### 2.3 [데이터베이스 관리 시스템의 장단점]

DBMS는 파일 시스템에 비교해 다음과 같은 **장점**을 가진다.

1. 데이터 중복 통제 - 별도의 파일이 아닌 통합된 DB로
2. 데이터 독립성 확보 - DB 구조의 변경이 응용 프로그램에 영향을 끼치지 않음
3. 데이터 동시 공유 - 여러 응용 프로그램이 동시 공유 가능
4. 데이터 보안 향상 - 권한이 없는 사용자의 접근 차단, 허용되지 않는 데이터와 연산 차단
5. 데이터 무결성 유지 - 데이터의 연산마다 유효성을 검사하여 데이터의 무결성(정확성) 유지
6. 표준화 - 응용 프로그램은 표준화된 방법으로 DB 접근 가능
7. 장애 발생 시 회복 - 장애가 발생 이전 상태로 복구 가능
8. 적은 응용 프로그램 개발 비용 - 데이터 관리를 DBMS가 대신 관리

그러나 데이터베이스 관리 시스템은 다음과 같은 **단점**이 있다.
1. 데이터 관리 시스템을 설치하고 유지하는데 비용이 많이 든다
2. 백업과 회복 방법이 복잡하다
3. 중앙 집중 관리로 인한 취약점이 존재

### 2.4 [데이터베이스 관리 시스템의 발전 과정]

* (1세대) `네트워크 DBMS` :노드와 간선으로 이루어진 그래프 형태로 구조가 복잡하고 변경하기 어렵다.
* (1세대) `계층 DBMS` : 트리 형태로 네트워크 DBMS와 같이 구조가 복잡하고 변경하기 어렵다.
* **(2세대)** `관계 DBMS` : 테이블 형태로 구성된 이해하기 쉬운 구조로 지금도 널리 사용되고 있다. 
* (3세대) `객체지향 DBMS` : 객체라는 개념을 이용한다. 
* (3세대) `객체관계 DBMS` : 객체관계는 객체지향 DBMS와 관계 DBMS의 개념을 통합한 것이다. 2세대 DBMS보다는 사용률이 떨어지지만 점점 늘고 있다.
* (4세대 이후)`NoSQL DBMS` : 클라우드 컴퓨팅, 빅데이터가 등장하면서 대량의 비정형 데이터를 처리하기위해 개발되었다. 관계 DBMS의 장점인 안정성과 일관성을 포기하고 확장성과 성능을 택했다.
* (4세대 이후)`newSQL DBMS` : NoSQL 이후 정형 및 비정형 데이터를 안정성과 일관성 있게 처리하기 위해 만들어졌다. NoSQL의 장점인 확장성과 유연성을 모두 지원한다.

# 3.데이터베이스 시스템

### 3.1 데이터베이스 시스템의 정의

`데이터베이스 시스템(DBS)`이란 **DBMS와 DB를 합친 개념**으로 DB에 데이터를 저장하고 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해주는 시스템이다.

### 3.2 데이터베이스의 구조

`스키마`란 데이터 구조와 제약조건을 정의한 것이다. 예를들어 자료형이 무엇인지 문자의 길이가 몇까지인지처럼 말이다. 그리고 스키마에 따라 DB에 저장되는 값이 `인스턴스`이다. 데이터베이스를 쉽게 이해할 수 있도록 미국 표준화 기관에서 `3단계 데이터베이스 구조`(3-level database architecture)를 제안했다. 이 방법을 통해 사용자에게 복잡한 내용은 숨기고 사용하기 쉽게할 수 있다.

* 외부단계 : 개별 사용자 관점
* 개념단계 : 조직 전체의 관점
* 내부단계 : 물리적인 저장 장치의 관점

### 3.4 데이터 언어

데이터 언어는 데이터베이스를 구축하고 활용 및 관리하는 데이터베이스 관리 시스템에 부탁을 할때 사용하는 언어로 다음 3가지로 나뉜다.

* 데이터 정의어(DDL) : 스키마를 정의하거나, 수정 또는 삭제 ex) create, drop
* 데이터 조작어(DML) : 데이터의 삽입·삭제·수정·검색 등의 처리 ex) select, update, delete
* 데이터 제어어(DCL) : 내부적으로 필요한 규칙이나 기법을 정의 ex) 

데이터 조작어는 절차적 조작어와 비절차적 조작어로 나뉜다. 

### 3.5 데이터베이스 관리 시스템의 구성

# 4.데이터 모델링

### 4.1 데이터 모델링과 데이터 모델의 개념

`데이터 모델링`이란 현실 세계의 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정이다. 여기서 현실 세계의 데이터 중 저장할 만한 가치가 있는 중요 데이터를 찾는 과정을 `추상화`라한다. 현실 세계의 데이터를 컴퓨터 세계로 옮기는 중간에 먼저 개념 세계에서 데이터를 정리할 수 있다. 개념 세계는 데이터 구조가 없고 사람이 이해할 수 있는 형태이다. 현실 세계에서 개념 세계로의 변환을 `개념적 모델링`이라하고, 개념 세계의 데이터를 컴퓨터 세계로 변환하는 것을 `논리적 모델링` 이라 한다. 

데이터 모델은 연산, 데이터 구조, 제약조건으로 구성된다. 

### 4.2 개체-관계 모델
 
`개체-관계 모델`은 피터 첸이 1967년에 제안한 방법으로 개체(entity)와 개체 간의 관계를 이용해 현실 세계를 개념적 구조로 표현하는 방법이다. 개체-관계 모델을 이용해 개념적 모델링 한것을 `개체-관계 다이어그램(E-R 다이어그램)`이라 한다. 여기서 `개체`란 저장할 만한 가치가 있는 중요 데이터를 가지고 있는 대상이라 할 수 있다. 개체는 물리적으로 존재하지 않는 추상적인 대상도 될 수 있다. 또한 개체는 다른 개체와 구별되는 이름을 가지고 있고, 개체만의 고유한 특성이나 상태, 즉 속성을 하나 이상 가지고 있다. 여기서 개체를 고유한 이름과 속성들의 구조로 정의한 것을 `개체 타입`이라한다. 그리고 개체 타입에서 실제 데이터가 들어간 것을 `개체 인스턴스`라고 한다. 

# 5.관계 데이터 모델

### 5.1 관계 데이터 모델의 개념

`관계 데이터 모델`은 개체에 관한 데이터를 `릴레이션` 하나에 담아 데이터베이스에 저장하는 방식이다. 릴레이션은 표로 구성된다.

* `속성(attribute)` : 릴레이션의 열(세로)로 필드에 대응하는 개념
* `투플(tuple)` : 릴레이션의 행(가로)으로 개체의 **인스턴스**
* `도메인` : 하나의 속성이 가질 수 있는 모든 값의 집합
* `널 값(null)` : 특정 속성에 해당하는 값이 없음
* `차수` : 릴레이션에서 속성의 전체 개수, 즉 속성의 개수
* `카디널리티` : 투플의 전체 개수
* `릴레이션 스키마` : 릴레이션의 이름과 릴레이션의 포함된 모든 속성의 이름으로 정의되는 릴레이션의 논리적인 구조
 - 릴레이션이름(속성이름1, 속성이름2, ... , 속성이름n)
* `릴레이션 인스턴스` : 투플들의 집합
* 

릴레이션의 4가지 특성
1. 투플의 유일성 : 모든 투플은 다른 투플과 구별되는 유일한 특성이 있어야함
2. 투플의 무순서 : 투플 사이의 순서는 무의미
3. 속성의 무순서 : 속성 사이의 순서는 무의미
4. 속성의 원자성 : 속성은 다중값을 가질 수 없다 

투플을 유일하게 구분하기 위해 `키`를 사용한다. 키는 **유일성**과 **최소성**을 만족해야 한다. 키의 종류는 다음과 같다.
* `super key(슈퍼키)` : 유일성을 만족하는 속성 또는 속성들의 집합
* `candidate key(후보키)` : 유일성과 최소성을 만족하는 속성 또는 속성들의 집합
* `primary key(기본키)` : 후보키 중에서 기본적으로 사용할 키
 - 널 값을 가질 수 있는 키는 후보키는 기본키로 부적절
 - 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 부적절
 - 단순한 후보키를 기본키로 설정
* `alternate key(대체키)` : 기본키로 선택받지 못한 후보키
* `foreign key(외래키)` : 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합 **(중요)**

### 관계데이터 모델의 제약

관계 데이터 모델의 기본 제약 사항은 키와 관련한 무결성 제약조건이다. 무결성은 데이터에 결함이 없는 상태이다. 무결성 제약 조건에는 개체 무결성 제약조건과 참조 무결성 제약조건이 있다.
* 개체 무결성 제약조건 : 기본키를 구성하는 모든 속성은 널값을 가질 수 없다.
* 참조 무결성 제약조건 : 외래키는 참조할 수 없는 값을 가질 수 없다.

# 6.관계 데이터 연산

### 관계 데이터 연산의 개념

`관계 데이터 연산`이란 

# 7.데이터베이스 언어 SQL
# 8.데이터베이스 설계
# 9.정규화
# 10.회복과 병행 제어
# 11.보안과 권한 관리
# 12.데이터베이스 응용 기술
# 13.데이터 과학과 빅데이터
# 14.데이터베이스 활용


