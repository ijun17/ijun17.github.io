---
layout: post
title: "암호화폐 급상승 예측 시스템"
order: 1
---

깃허브: https://github.com/ijun17/surge-coin-predictor

# 서론

2009년 비트코인이 출시되고 2023년 현재에 이르기까지 비트코인은 엄청난 가격의 상승을 이루었다. 이에 따라 많은 사람들이 암호화폐에 대해 많은 관심을 갖게 되었다. 하지만 이에 따라 비트코인과 같은 메이저 코인들은 어느 정도의 가격의 하한선이 생긴 듯 보인다. 다시 말해 이제는 비트코인으로 10배 100배의 수익을 기대하기 어렵다는 것이다. 반면에 소위 잡코인이라 불리는 암호화폐들은 사정이 다르다. 크게는 10배 이상 가격이 상승했다가 하락하며 종목도 많다. 잡코인들은 세력들이 가격을 좌지우지하기 때문에 수익을 얻기 힘들다는 의견이 많지만, 비트코인도 과거에는 잡코인이었다. 언제 사라질지 몰랐으며, 많은 사람들이 이것이 사기라고 생각했다. 물론 과거와 지금은 양상이 많이 다르다. 현재는 비트코인이라는 성공한 암호화폐가 존재하며, 그외 다수의 코인은 스캠 코인으로 취급된다. 하지만 10배 또는 그 이상의 가격 상승이 이루어진다면 이는 시도해볼만한 가치가 있다고 생각한다. 

이 시스템은 하루 또는 일정 시간 단위로 가격의 상승을 예측하는 시스템이다. 자동매매 시스템이 아니다. 일정 시간 간격의 데이터를 수집해서 피쳐 엔지니어링을 하고, 시계열 데이터로 전처리를 하여 랜덤 포레스트로 학습을 하였다. 왜 랜덤 포레스트를 선택했냐면 익숙하기도 하고, 다른 할 일들이 많아 시간을 투자하기 어려웠기 때문이다. 만약 시간이 된다면 ARIMA나 LSTM을 공부해 사용하려 한다.  

# 데이터 수집

데이터는 업비트 거래소 api를 이용해 수집을 하였다. 먼저 어떤 코인이 잡코인인지 선정을 해야 한다. 모든 암호화폐의 데이터를 받아와 낮은 가격과 거래량을 조건으로 61개의 코인을 선정하였다.(2023년 10월 기준) 그리고 선정된 코인들을 4시간/하루/일주일/한달 단위로 데이터를 수집했다. 하루 단위의 전체 데이터가 약 12MB정도 되었고 수집하는데 30분 정도 걸렸던 것으로 기억한다. 

# 데이터 전처리

먼저 수집한 데이터에서 결측치가 있는지 확인했다. 2017년 10월, 12월 쯤에 몇몇 코인에서 결측이 된 것을 확인했고, 결측된 시간에서 이전 데이터를 모두 삭제하였다. 결측된 시간부터 그 이전 데이터를 모조리 삭제한 이유는 2017년 이전 데이터가 별로 없기도하고 학습의 정확도를 높이기 위해서이다. 그리고 피쳐 엔지니어링을 하여 아래에 몇가지 피쳐를 만들었다. 이때 각 코인들의 가격, 거래량이 모두 다르기 때문에 비율로 스케일링을 하였다. 

* `price_diff` : high_price / low_price
* `trade_change_rate`: 현재 candle_acc_trade_volume / 이전 시간의 candle_acc_trade_volume
* `low_change_rate`: 현재의 low_price / 이전 시간의 low_price
* `change_rate`: 가격의 변화율

이제 시계열 데이터로 만들기 위해 피쳐를 병렬화한다.(쉽게 설명하기 위해 하루 단위를 기준으로 서술할 것이다) 현재부터 N일전까지를 학습에 사용할 지 

N(현재부터 어느 시간 전까지), M(미래 M시간 안에), R()


# 학습

# 평가

# 결론

# 배포